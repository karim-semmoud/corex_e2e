defmodule E2e.AccountsFixtures do
  @moduledoc """
  This module defines test helpers for creating
  entities via the `E2e.Accounts` context.
  """

  @doc """
  Generate a user.
  """
  def user_fixture(attrs \\ %{}) do
    {:ok, user} =
      attrs
      |> Enum.into(%{
        birth_date: ~D[1990-01-15],
        country: "some country",
        name: "some name",
        signature:
          "[\"M153.45,56.79 Q152.46,57.28 150.62,57.98 T148.61,58.72 148.29,58.71 147.99,58.61 147.74,58.41 147.56,58.14 147.48,57.84 147.50,57.52 147.62,57.22 147.83,56.98 148.11,56.82 148.42,56.75 148.74,56.79 149.03,56.93 149.25,57.15 149.40,57.44 149.45,57.75 149.39,58.07 149.24,58.35 149.01,58.56 148.72,58.69 148.40,58.73 148.09,58.65 147.82,58.49 147.61,58.24 147.50,57.94 147.48,57.62 147.57,57.32 147.75,57.05 148.01,56.86 148.15,56.79 149.87,56.14 152.07,55.24 152.67,54.96 152.90,54.90 153.14,54.91 153.37,54.97 153.58,55.08 153.76,55.25 153.89,55.45 153.97,55.67 153.99,55.91 153.96,56.15 153.87,56.37 153.73,56.56 153.55,56.72 Z\"]",
        terms: true
      })
      |> E2e.Accounts.create_user()

    user
  end

  @doc """
  Generate a admin.
  """
  def admin_fixture(attrs \\ %{}) do
    {:ok, admin} =
      attrs
      |> Enum.into(%{
        birth_date: ~D[1990-01-15],
        country: :fra,
        name: "some name",
        signature:
          "[\"M153.45,56.79 Q152.46,57.28 150.62,57.98 T148.61,58.72 148.29,58.71 147.99,58.61 147.74,58.41 147.56,58.14 147.48,57.84 147.50,57.52 147.62,57.22 147.83,56.98 148.11,56.82 148.42,56.75 148.74,56.79 149.03,56.93 149.25,57.15 149.40,57.44 149.45,57.75 149.39,58.07 149.24,58.35 149.01,58.56 148.72,58.69 148.40,58.73 148.09,58.65 147.82,58.49 147.61,58.24 147.50,57.94 147.48,57.62 147.57,57.32 147.75,57.05 148.01,56.86 148.15,56.79 149.87,56.14 152.07,55.24 152.67,54.96 152.90,54.90 153.14,54.91 153.37,54.97 153.58,55.08 153.76,55.25 153.89,55.45 153.97,55.67 153.99,55.91 153.96,56.15 153.87,56.37 153.73,56.56 153.55,56.72 Z\"]",
        terms: true
      })
      |> E2e.Accounts.create_admin()

    admin
  end
end
